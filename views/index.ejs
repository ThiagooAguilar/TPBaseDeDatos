<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>MovieWeb</title>

<!-- DAISYUI -->
<link href="https://cdn.jsdelivr.net/npm/daisyui@3.2.0/dist/full.css" rel="stylesheet">

<!-- FUENTE TIPO IMDB -->
<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">

<!-- ESTILO PERSONALIZADO -->
<link rel="stylesheet" href="styles.css">
</head>
<body>

<div class="drawer drawer-mobile">
  <input id="my-drawer-1" type="checkbox" class="drawer-toggle" />

  <!-- CONTENIDO PRINCIPAL -->
  <div class="drawer-content flex flex-col items-center">

    <!-- HEADER: t√≠tulo + logo lado a lado -->
    <div class="header-wrapper">
      <h1>MovieWeb</h1>
      <img src="/logo.png" class="logo" alt="logo">
    </div>

    <!-- BARRA DE B√öSQUEDA -->
    <form action="/buscar" method="GET" class="search-form">
        <input type="text" name="q" placeholder="Buscar pel√≠culas, actores o directores..." />
        <button type="submit">Buscar</button>
    </form>

    <!-- CONTENIDO PRINCIPAL -->
    <div id="contenido-principal" class="w-full max-w-7xl px-4 py-8">

            <div class="tabs tabs-boxed mb-6 justify-center bg-gray-900">
                <a class="tab tab-lg text-[#7F00FF] tab-active">En Tendencia</a>
                <a class="tab tab-lg text-white">Mejor Calificadas</a>
                <a class="tab tab-lg text-white">Pr√≥ximos Estrenos</a>
            </div>

            <h2 class="text-3xl text-white font-bold mb-4 ml-2 border-l-4 border-[#7F00FF] pl-3">üî• Pel√≠culas en Tendencia</h2>

            <% if (trendingMovies && trendingMovies.length > 0) { %>
                <div class="flex overflow-x-auto space-x-6 pb-4 scrollbar-hide"> <% trendingMovies.forEach((movie) => { %>
                        <div class="card bg-[#222] w-64 shadow-xl flex-shrink-0 hover:scale-[1.03] transition duration-300">
                            <figure class="h-96">
                                <img src="<%= movie.poster_url %>" alt="<%= movie.title %>" class="h-full w-full object-cover"/>
                            </figure>
                            <div class="card-body p-4">
                                <h2 class="card-title text-white text-lg truncate"><%= movie.title %></h2>
                                <div class="badge badge-warning text-sm font-bold">‚≠ê <%= movie.rating || 'N/A' %></div>
                            </div>
                        </div>
                    <% }) %>
                </div>
            <% } else { %>
                <p class="ml-2 text-gray-400">Cargando o no hay datos de pel√≠culas en tendencia.</p>
            <% } %>

            <div class="divider my-8"></div>

            <h2 class="text-3xl text-white font-bold mb-4 ml-2 border-l-4 border-[#7F00FF] pl-3">üåü Mejor Calificadas</h2>

            <% if (topRatedMovies && topRatedMovies.length > 0) { %>
                <div class="flex overflow-x-auto space-x-6 pb-4 scrollbar-hide">
                    <% topRatedMovies.forEach((movie) => { %>
                        <div class="card bg-[#222] w-64 shadow-xl flex-shrink-0 hover:scale-[1.03] transition duration-300">
                            <figure class="h-96">
                                <img src="<%= movie.poster_url %>" alt="<%= movie.title %>" class="h-full w-full object-cover"/>
                            </figure>
                            <div class="card-body p-4">
                                <h2 class="card-title text-white text-lg truncate"><%= movie.title %></h2>
                                <div class="badge badge-warning text-sm font-bold">‚≠ê <%= movie.rating || 'N/A' %></div>
                            </div>
                        </div>
                    <% }) %>
                </div>
            <% } else { %>
                <p class="ml-2 text-gray-400">Cargando o no hay datos de pel√≠culas mejor calificadas.</p>
            <% } %>

        </div>

  <!-- SIDEBAR -->
  <div class="drawer-side">
    <label for="my-drawer-1" class="drawer-overlay"></label>
    <ul class="menu min-h-full w-80 p-4 bg-black">
      <li><a href="#">Inicio</a></li>
      <li><a href="#">Pel√≠culas</a></li>
      <li><a href="#">Actores</a></li>
      <li><a href="#">Directores</a></li>
      <li><a href="#">Categor√≠as</a></li>
    </ul>
  </div>
</div>

</body>
</html>
